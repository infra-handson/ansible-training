# Step6クイズ解説

Q1. 3号機のみアクセスが失敗する原因は？

- [ ] 3号機へのAnsibleの実行が失敗している
- [ ] Ansibleはデフォルトで2台までしか同時に実行されない
- [x] 3号機へAnsibleが実行されていない
- [ ] Firewallでアクセスが禁止されている

Step4でインベントリ確認を行いましたが、その際に`target01`と`target02`の2つしか実行対象が指定されていないことが確認できます。  
そのため、正解は「3号機へAnsibleが実行されていない」になります。  
なお、実行失敗した場合やFirewall等でネットワーク的にアクセス不可だった場合は実行時にエラーが表示されます。
今回はそのようなエラーが表示されておらず、実行結果にも2台分の結果しか表示されていないため、このことからも3号機に実行しようとしていないことが推察できます。  
また、Ansibleにはとくに実行台数に制限があるという仕様はありません。

---

Q2. また、どうしたら成功するようになると思われるかを以下から選択してください。

- [ ] Playbookを実行するコマンドに「-n 3」オプションを追加して再実行する
- [ ] 3号機にSSH接続して設定を変更する
- [ ] Playbookのファイルを編集してからPlaybookを再実行する
- [x] インベントリファイルを編集してからPlaybookを再実行する

Q1の解説通り、ここでの問題は「3号機へAnsibleが実行されていない」ことなため、Ansibleが3号機へも実行するような設定を記載すれば実行されるようになります。  
実行対象の設定はインベントリファイルで行うと説明しましたので、正解は「インベントリファイルを編集してからPlaybookを再実行する」になります。

---

- [前のページに戻る](step6.md)
- [目次](README.md)
- [次のページに進む](step7.md)
