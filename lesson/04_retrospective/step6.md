Start - [1](step1.md) - [2](step2.md) - [3](step3.md) - [4](step4.md) - [5](step5.md) - [**6**](step6.md) - [7](step7.md) - [8](step8.md) - End


# 課題5: 条件分岐を使用する

## 課題5-1: 変数が未定義の場合にタスクをSkipする

課題4ではユーザ名のリストの変数が定義されていないとエラーになってしまうため、ユーザの作成が必須のコードになっていました。  
しかし、サーバによってはユーザを作成したくない場合なども考えられます。  
そのため、コードの汎用性を向上させるために変数が未定義だったときはユーザ作成のタスクがSkipされるようにしてください。

※補足  
課題4完了時点で`host_vars`ディレクトリの`target01.yaml`と`target02.yaml`にユーザ名のリストが定義された変数のみが記載された状態になっているはずです。  
各Yamlファイルの変数定義部分を削除すれば変数が未定義の状態になるため、ここでは実質的にファイルの中身を空にすれば変数が未定義の状態になります。  
`target02.yaml`だけ変数を未定義にして、変数定義の有無でタスクの実行有無が分岐されることを確認するとよいです。

---

- [前のページに戻る](step5a.md)
- [目次](README.md)
- [解説に進む](step6a.md)
